<!DOCTYPE html>
<html>
<head>
  <title>Sistema de Permisos</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LHrYxf4Jw9zZhYj/Ao6VPp2DVRgBTh1sj26l2H7n95XIoN3z/MF2mNLG5+9J6JhI" crossorigin="anonymous">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <h1>Sistema de Permisos para docentes</h1>

  <form id="myForm">
    <div>
      <label for="codigo">Codigo:</label>
      <input type="text" id="codigo" name="codigo">
    </div>
    <div>
    <div>
      <label for="tipoPermiso">Tipo de Permiso:</label>
      <select id="tipoPermiso" name="permiso">
        <option value="varios">Varios dias</option>
        <option value="uno">Un dia</option>
        <option value="horas">Unas horas</option>
      </select>
    </div>
    <div id="variosDias" style="display: none;">
      <h3>Seleccione los dias del Permiso</h3>
      <div>
        <label for="fechaInicio">Fecha Inicio:</label>
        <input type="date" id="fechaInicio" name="fechaInicio">
      </div>
      <div>
        <label for="fechaFin">Fecha Fin:</label>
        <input type="date" id="fechaFin" name="fechaFin">
      </div>
    </div>
    <div id="unDia" style="display: none;">
      <h3>Seleccione el Dia del Permiso</h3>
      <div>
        <label for="fechaPermiso">Fecha de permiso:</label>
        <input type="date" id="fechaPermiso" name="fechaPermiso">
      </div>
    </div>
    <div id="variasHoras" style="display: none;">
      <h3>Seleccione el dia y horario del Permiso</h3>
      <div>
        <label for="fechaPerHoras">Fecha de permiso:</label>
        <input type="date" id="fechaPerHoras" name="fechaPerHoras">
      </div>
      <div>
        <label for="horarioInicio">Horario Inicio:</label>
        <input type="time" id="horarioInicio" name="horarioInicio">
      </div>
      <div>
        <label for="horarioFin">Horario Fin:</label>
        <input type="time" id="horarioFin" name="horarioFin">
      </div> 
    </div> <br>
    <div id="motivoPermiso">
      <label for="horas">Motivo del Permiso: </label>
      <select name="horas" id="horas">
          <option value="Fraccion1"> FRACCION l. Incapacidad medica (IMSS)</option>
          <option value="Fraccion2"> FRACCION ll. Permiso 4 dias con goce de salario</option>
          <option value="Fraccion3"> FRACCION lll. Permiso 8 dias habiles con goce de salario</option>
          <option value="Fraccion4"> FRACCION lV. Permiso pormotivos personales</option>
          <option value="Fraccion5"> FRACCION V. Permiso economico durante bel ciclo escolar</option>
          <option value="Fraccion6"> FRACCION Vl. Permiso o licencia para asisteir a seminarios, foros, congresos</option>
      </select>
  </div>

    <div>
      <input type="submit" value="Enviar">
    </div>
  </form>

  <div id="resultado" style="display: none;">

  <script>
    document.getElementById("myForm").addEventListener("submit", function(event) {
      event.preventDefault(); // Evitar el env√≠o del formulario

      // Obtener la fecha actual
      var currentDate = new Date();
      var dayOfWeek = currentDate.getDay(); // 0 para Domingo, 1 para Lunes, etc.

      var tipoPermiso = document.getElementById("tipoPermiso").value;

      //document.getElementById("resDatosPermiso").textContent = tipoPermiso;

      var resDatosPermiso = "";

      if (tipoPermiso === "varios") {
        var fechaInicio = document.getElementById("fechaInicio").value;
        var fechaFin = document.getElementById("fechaFin").value;

        resDatosPermiso = "<h3>Datos del Permiso</h3>" +
                       "<p>Fecha Inicio: " + fechaInicio + "</p>" +
                       "<p>Fecha Fin: " + fechaFin + "</p>" ;
                      
      } else if (tipoPermiso === "uno") {
        var fechaPermiso = document.getElementById("fechaPermiso").value;
        resDatosPermiso = "<h3>Datos del Permiso</h3>" +
                       "<p>Fecha permiso: " + fechaPermiso + "</p>" ;
      } else if (tipoPermiso === "horas") {
        var fechaPerHoras = document.getElementById("fechaPerHoras").value;
        var horarioInicio = document.getElementById("horarioInicio").value;
        var horarioFin = document.getElementById("horarioFin").value;
        resDatosPermiso = "<h3>Datos del Permiso</h3>" +
                       "<p>Fecha del permiso: " + fechaPerHoras + "</p>"+
                       "<p>Hora de Inicio: " + horarioInicio + "</p>" +
                       "<p>Hora de Fin: " + horarioFin + "</p>";
      }

      document.getElementById("resDatosPermiso").innerHTML = resDatosPermiso;

      document.getElementById("resultado").style.display = "block";
    });

    function agregarOpciones(selectElement, opciones) {
      for (var key in opciones) {
        var option = document.createElement("option");
        option.value = key;
        option.text = opciones[key];
        selectElement.add(option);
      }
    }

    document.getElementById("tipoPermiso").addEventListener("change", function() {
      var tipoPermiso = this.value;
      document.getElementById("variosDias").style.display = (tipoPermiso === "varios") ? "block" : "none";
      document.getElementById("unDia").style.display = (tipoPermiso === "uno") ? "block" : "none";
      document.getElementById("variasHoras").style.display = (tipoPermiso === "horas") ? "block" : "none";
    });
  </script>
</body>
</html>
